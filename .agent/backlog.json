{
  "schemaVersion": "1.1.0",
  "statusEnum": [
    "New",
    "InProgress",
    "Done"
  ],
  "wipLimit": 1,
  "canonicalOrdering": "lowest-id-first",
  "selectionRule": "next = lowest-id New item where all dependsOn are Done",
  "backlogEvolution": {
    "editWindows": [
      "before-starting-new-item",
      "when-blocked"
    ],
    "allowedReasons": [
      "missing-infrastructure",
      "test-discovered-bug",
      "task-too-large-split",
      "spec-mismatch-change-proposal"
    ],
    "requiredFieldsForNewItems": [
      "id",
      "title",
      "milestone",
      "status",
      "dependsOn",
      "requirementRef",
      "rationale",
      "validation",
      "definitionOfDoneRef"
    ]
  },
  "items": [
    {
      "id": "FL-0001",
      "epic": "E0",
      "milestone": "M0",
      "title": "Create solution + project skeletons",
      "status": "New",
      "dependsOn": [],
      "requirementRef": "/.agent/milestones.md#M0",
      "rationale": "Establish stable module boundaries and toolchain gates before implementing gameplay logic.",
      "sizeHint": "S",
      "deliverables": [
        "Floodline.Core (netstandard2.1;net8.0)",
        "Floodline.Core.Tests (net8.0)",
        "Floodline.Cli (net8.0)",
        "Floodline.Levels (optional shared schema/helpers)"
      ],
      "definitionOfDoneRef": "/.agent/definition-of-done.md",
      "validation": [
        "dotnet restore",
        "dotnet build -c Release",
        "dotnet test -c Release"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0002",
      "epic": "E0",
      "milestone": "M0",
      "title": "Enable Central Package Management + locked restore",
      "status": "New",
      "dependsOn": [
        "FL-0001"
      ],
      "requirementRef": "/.agent/context.md#3-strict-net-baseline-repo-policy",
      "rationale": "Deterministic dependency graph is critical for autonomous agents and stable CI.",
      "sizeHint": "S",
      "deliverables": [
        "Directory.Packages.props (pinned versions)",
        "Directory.Build.props: ManagePackageVersionsCentrally=true, lock files enabled",
        "packages.lock.json generated + CI uses --locked-mode"
      ],
      "definitionOfDoneRef": "/.agent/definition-of-done.md",
      "validation": [
        "dotnet restore --use-lock-file",
        "dotnet restore --locked-mode",
        "dotnet build -c Release"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0003",
      "epic": "E0",
      "milestone": "M0",
      "title": "Strict analyzers + formatting gates (warnings-as-errors)",
      "status": "New",
      "dependsOn": [
        "FL-0002"
      ],
      "requirementRef": "/.agent/context.md#3-strict-net-baseline-repo-policy",
      "rationale": "Make correctness and style mechanically enforced to reduce agent-induced regressions.",
      "sizeHint": "M",
      "deliverables": [
        ".editorconfig (strict)",
        "TreatWarningsAsErrors=true, EnforceCodeStyleInBuild=true, Nullable=enable",
        "dotnet format verify gate"
      ],
      "definitionOfDoneRef": "/.agent/definition-of-done.md",
      "validation": [
        "dotnet build -c Release",
        "dotnet format --verify-no-changes",
        "dotnet test -c Release"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0101",
      "epic": "E1",
      "milestone": "M1",
      "title": "Core primitives: coords, gravity, ordering",
      "status": "New",
      "dependsOn": [
        "FL-0003"
      ],
      "requirementRef": "/.agent/context.md#2-hard-invariants-must-never-drift",
      "rationale": "Deterministic ordering is a foundation for water/solid solvers and replay stability.",
      "sizeHint": "M",
      "deliverables": [
        "Int3 coordinate type",
        "Gravity directions + right-axis table",
        "Ordering helper for (gravElev, tieCoord)"
      ],
      "definitionOfDoneRef": "/.agent/definition-of-done.md",
      "validation": [
        "dotnet test -c Release"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0102",
      "epic": "E1",
      "milestone": "M1",
      "title": "Grid model + occupancy types",
      "status": "New",
      "dependsOn": [
        "FL-0101"
      ],
      "requirementRef": "/docs/GDD_v0_2.md",
      "rationale": "Canonical grid state is required for deterministic resolve, objectives, and hashing.",
      "sizeHint": "M",
      "deliverables": [
        "Cell/voxel occupancy model with enum/material IDs",
        "Single occupancy invariant enforced"
      ],
      "definitionOfDoneRef": "/.agent/definition-of-done.md",
      "validation": [
        "dotnet test -c Release"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0110",
      "epic": "E1",
      "milestone": "M1",
      "title": "CLI runner (level + scripted inputs)",
      "status": "New",
      "dependsOn": [
        "FL-0102"
      ],
      "requirementRef": "/.agent/context.md#5-mvp-acceptance-criteria-autonomy-targets",
      "rationale": "Headless CLI is required for golden tests, replay verification, and automation.",
      "sizeHint": "M",
      "deliverables": [
        "CLI loads level JSON + seed + scripted inputs",
        "Runs until win/lose or max ticks",
        "Prints summary metrics"
      ],
      "definitionOfDoneRef": "/.agent/definition-of-done.md",
      "validation": [
        "dotnet run --project Floodline.Cli -- --help",
        "dotnet run --project Floodline.Cli -- --level <path> --inputs <path>"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    }
  ]
}
